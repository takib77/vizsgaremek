<h3 class="text-center my-3">{{title}}</h3>
<div class="row">
    <div *ngIf="user" class="col-10 col-md-8 col-xl-6 offset-1 offset-md-2 offset-xl-3 my-3">
        <label *ngIf="user._id" class="d-block text-muted text-right mb-3">{{'AZONOSÍTÓ: '+ user._id}}</label>
        <form #userForm="ngForm" (ngSubmit)="onSubmit(user)">
            <div class="row mb-3">
                <div class="col-12 col-lg-6">
                    <div class="form-floating mb-3 mb-lg-0">
                        <input id="first_name" name="first_name" [(ngModel)]="user.first_name" type="text"
                            class="form-control alert-warning" required
                            pattern="^[A-Z,ÁÉÍÓÖŐÚÜŰ]{1}[a-z,áéíóöőúüű]{1,}">
                        <label for="first_name">VEZETÉKNÉV*</label>
                        <div [hidden]="userForm.controls.first_name?.valid || userForm.controls.first_name?.pristine"
                            class="error-message">
                            A vezetéknévnek nagy betűvel kell kezdődnie!
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <div class="form-floating">
                        <input id="last_name" name="last_name" [(ngModel)]="user.last_name" type="text"
                            class="form-control alert-warning" required
                            pattern="^[A-Z,ÁÉÍÓÖŐÚÜŰ]{1}[a-z,áéíóöőúüű]{1,}">
                        <label for="last_name">KERESZTNÉV*</label>
                        <div [hidden]="userForm.controls.last_name?.valid || userForm.controls.last_name?.pristine"
                            class="error-message">
                            A keresztnévnek nagy betűvel kell kezdődnie!
                        </div>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-12 col-lg-6">
                    <div class="form-floating mb-3 mb-lg-0">
                        <input id="country" name="country" [(ngModel)]="user.address.country" type="text"
                            class="form-control alert-info">
                        <label for="country">ORSZÁG</label>
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <div class="form-floating mb-3 mb-lg-0">
                        <input id="city" name="city" [(ngModel)]="user.address.city" type="text"
                            class="form-control alert-info">
                        <label for="city">TELEPÜLÉS</label>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-12 col-xl-4">
                    <div class="form-floating mb-3 mb-xl-0">
                        <input id="zip" name="zip" [(ngModel)]="user.address.zip" type="number"
                            class="form-control alert-info">
                        <label for="zip">IRÁNYÍTÓSZÁM</label>
                    </div>
                </div>
                <div class="col-12 col-xl-5">
                    <div class="form-floating mb-3 mb-xl-0">
                        <input id="street" name="street" [(ngModel)]="user.address.street" type="text"
                            class="form-control alert-info">
                        <label for="street">KÖZTERÜLET</label>
                    </div>
                </div>
                <div class="col-12 col-xl-3">
                    <div class="form-floating">
                        <input id="houseNumber" name="houseNumber" [(ngModel)]="user.address.houseNumber" type="number"
                            class="form-control alert-info">
                        <label for="houseNumber">HÁZSZÁM</label>
                    </div>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-12 col-lg-6">
                    <div class="form-floating mb-3 mb-lg-0">
                        <input id="email" name="email" [(ngModel)]="user.email" type="text"
                            class="form-control alert-warning" placeholder="EMAIL CÍM" required
                            [pattern]="emailPattern">
                        <label for="email">EMAIL CÍM*</label>
                        <div [hidden]="userForm.controls.email?.valid || userForm.controls.email?.pristine"
                            class="error-message">
                            Szabványos email címet kell megadni!
                        </div>
                    </div>
                </div>
                <div class="col-12 col-lg-6">
                    <div class="form-floating">
                        <input id="password" name="password" [(ngModel)]="user.password" type="password"
                            class="form-control alert-warning" placeholder="JELSZÓ">
                        <label for="password">JELSZÓ</label>
                    </div>
                </div>
            </div>
            <div class="form-floating mb-3">
                <select id="role" name="role" [(ngModel)]="user.role" required class="form-select alert-warning">
                    <option value="1">FELHASZNÁLÓ</option>
                    <option value="2">SZERKESZTŐ</option>
                    <option value="3">ADMIN</option>
                </select>
                <label for="role">JOGOSULTSÁG*</label>
            </div>
            <i class="text-danger">*Kötelező megadni</i>
            <div class="d-grid mx-auto my-5">
                <div class="btn-group">
                    <button class="btn btn-secondary mx-3" routerLink="/users">
                        <i class="fas fa-window-close"></i>
                    </button>
                    <button [disabled]="userForm.invalid" type="submit" class="btn btn-primary mx-3">
                        <i class="far fa-save"></i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>